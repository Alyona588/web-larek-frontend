# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build

```

## Базовый код

1. Абстрактный класс Component
   Описывает основное поведение всех остальных классов.
   Имеет несколько методов:
   +toggleClass(element: HTMLElement, className: string) - метод, переключающий класс HTML-элемента, который указывается в параметрах, вместе с именем класса, на который нужно переключиться.
   #setHidden(element: HTMLElement) - защищенный метод, делающий HTML-элемент невидимым, принимает в параметрах этот элемент.
   #setVisible(element: HTMLElement) - защищенный метод, делающий HTML-элемент видимым, принимает в параметрах этот элемент.
   #setText(element: HTMLElement, value - unknown) - защищенный метод, устанавливающий текст внутри HTML-элемента. Сам текст и элемент, передаются в параметрах.
   +setDisabled(element: HTMLElement, state - boolean) - метод, позволяющий сделать HTML-элемент недоступным для взаимодействия.В параметрах принимает сам элемент и состояние с типом boolean.
   +render(data): HTMLElement - метод, принимающий в параметрах данные и возвращающий измененный HTMLElement.

2. Class EventEmmiter
   Позволяет подписываться на события и уведомлять подписчиков о наступлении этого события, таким образом реализуя паттерн "Observer" или "Наблюдатель".
   В своем составе имеет такие методы: on (для подписки на событие), emit (для уведомления подписчиков о событии), off (для снятия обработчика события), onAll(для подписки на все события), offAll(для сброса всех подписчиков).
   Дополнительно реализован метод trigger, позволяющий сгенирировать событие с заданными аргументами. Это позволяет передавать его в качестве обработчика в другие классы, таким образом эти классы не будут напрямую зависеть от EventEmitter.

3. Класс API.
   Класс, реализовывающий работу с данными, приходящими с сервера и отправляемыми на сервер.
   В своем составе имеет несколько свойств и методов:
   +baseURL: string - свойство, принимающее на вход строку, содержащую адрес сервера.
   +options: RequestInit - свойство с специальными свойствами отправки запроса.
   +get(string): Promise<Object> - метод, позволяющий получить данные с сервера в виде необходимого объекта.
   +post(string, object, HttpMethod): Promise<Object> - метод, позволяющий отправить данные на сервер.

## Компоненты представления

1. Класс Page
   Выводит на странице все карточки с товарами. Методы включают в себя получение и заполнение каталога в товарами.

2. Класс BasketView
   Класс, реализовывающий отображения корзины. Методы, которые присутствуют в данном классе:
   Вывод выбранных пользователем товаров в модальное окно корзины, вывод суммы заказа.
   Все эти методы реализуются с помощью set.

3. Класс Modal
   Класс реализующий работу всех модальных окон приложения.
   Самыми основными методами данного класса являются:
   open() - позволяет открыть модальное окно
   close() - закрывает модальное окно либо при клике по кнопке с крестиком, либо ко клику на оверлей

## Компоненты модели данных (бизнес - логика)

1. Class Card
   Класс, реализующий работу непосредственно с карточкой товара. Имеет несколько методов:
   установка картинки (свойства image) товара (выполняется через метод set),
   установка id карточки (выполняется через метод set),
   получение id карточки (выполняется через метод get),
   установка описания (свойства description) товара (выполняется через метод set),
   получение описания (свойства description) товара (выполняется через метод get),
   установка заголовка (свойства title) товара (выполняется через метод set),
   получение заголовка (свойства title) товара (выполняется через метод get).

2. Класс Form
   Обеспечивает работу с формой оформления заказа.
   Основные методы:
   Проверка вводимых данных на валидность методом set valid, принимающим в качестве значения value с типом boolean,
   Вывод ошибок в случае неправильно введенных данных, выполняется также методом set.
   Очистка введенных данных

3. Класс Order
   Класс, реализующий ввод данных пользователем на этапе оформления заказа.
   Методы:
   Ввод номера телефона (выполнение при помощи метода set)
   Ввод email (выполнение при помощи метода set)
   Ввод адреса (выполнение при помощи метода set)
   Выбор способа оплаты

4. Class Basket
   Организовывает работу корзины с товарами. Ключевые методы данного класса:
   Добавление товара в корзину (метод addItem),
   Удаление товара из корзины (removeItem),
   Очистка корзины (метод clearBasket),
   Получение списка товаров (метод getItem)
